
"""
/home/sam/JnJ/developments/jnj-android/PRD.md, TRD.md 파일을 
/home/sam/JnJ/developments/jnj-android/_docs 에 적절한 폴더를 생생하고 이동해주세요.
"""


"""
젠스파크와의 챗 내용 
/home/sam/JnJ/developments/jnj-android/_docs/planning/genspark/session01.md 을 참고하여, 
개발 순서를 task 별로 알려주세요. ex) 개발환경 구축(emulator 설치, rise of kingdoms 설치, 
로그인, ...), MVP 개발, 단위 test, ...
"""

"""
docker 환경에서 GUI 없이 개발하는 것은 눈에 보이는 것이 없어서 힘들 것 같아요. 그래서, 우선은 ubuntu에 xfce GUI가 설치된 서버에 원격으로 접속하여 GUI 환경으로 개발.테스트를 하고, 이후 개발이 완료되어 배포할 때는 docker에서 하려고 해요.
그러므로, xfce GUI 환경에서 android 에뮬레이터를 보면서 개발하는 기준으로 개발 스케줄 task list 를 수정해주세요.
"""

● 좋은 접근법입니다! XFCE GUI 환경에서 Android 에뮬레이터를 시각적으로 확인하면서 개발하는
  것이 훨씬 효율적이겠네요. GUI 환경 기준으로 개발 스케줄을 수정해드리겠습니다.


Rise of Kingdoms Android Automation 개발 순서 (XFCE GUI 환경)

Phase 1: GUI 개발환경 구축 (GUI Development Environment Setup)

1. Ubuntu XFCE 서버 환경 준비
- XFCE 데스크톱 환경 설치 확인
- 원격 접속 환경 설정 (VNC/RDP)
- 필수 개발 도구 설치 (VS Code, Git, Python)
2. Android 개발 환경 설치
- Android Studio 설치 및 설정
- Android SDK 및 플랫폼 도구 설치
- Java JDK 설치 및 환경변수 설정
3. Android 에뮬레이터 생성 및 설정
- AVD Manager에서 에뮬레이터 생성
- 하드웨어 가속 설정 (Intel HAXM 또는 AMD)
- 에뮬레이터 성능 최적화 설정
- ADB 연결 테스트
4. Rise of Kingdoms 설치 및 초기 설정
- Play Store 또는 APK로 게임 설치
- 계정 생성/로그인
- 게임 기본 튜토리얼 완료
- 테스트용 계정 여러 개 준비

Phase 2: 개발 도구 및 라이브러리 설치 (Development Tools Setup)

5. Python 개발 환경 구축
- Python 3.11+ 설치
- 가상환경 생성 및 설정
- 필수 라이브러리 설치 (uiautomator2, OpenCV, Pillow, pytest)
6. 자동화 도구 설치 및 테스트
- uiautomator2 설치 및 에뮬레이터 연결 테스트
- ADB 명령어 테스트
- 스크린샷 캡처 기능 테스트
- UIAutomator2 Device Inspector 설치
7. 코드 편집 환경 설정
- VS Code 설치 및 Python 익스텐션 설정
- 디버깅 환경 구성
- Git 저장소 설정

Phase 3: 게임 UI 분석 및 기본 자동화 (Game UI Analysis & Basic Automation)

8. 게임 UI 요소 분석
- UIAutomator2 Inspector로 UI 요소 식별
- 주요 버튼, 텍스트 필드, 메뉴 위치 매핑
- 스크린샷 기반 템플릿 이미지 수집
- 게임 상태별 화면 분류
9. 기본 자동화 클래스 구현
- RiseOfKingdomsBot 클래스 생성
- 에뮬레이터 연결 및 기본 조작 메서드
- 스크린샷 캡처 및 저장 기능
- 로깅 시스템 구현
10. 게임 시작 및 로그인 자동화
- 게임 앱 시작 자동화
- 로딩 화면 대기 처리
- 자동 로그인 기능 구현
- 메인 화면 도달 확인

Phase 4: 핵심 자동화 기능 개발 (Core Automation Features)

11. 자원 채집 자동화 개발
- 맵 화면으로 이동 기능
- 자원 검색 및 선택 자동화
- 채집 시작 및 완료 감지
- GUI에서 실시간 모니터링하며 디버깅
12. 도시 관리 자동화
- 건물 건설 완료 감지 및 수집
- 연구소 업그레이드 관리
- 군대 훈련 자동화
- 시각적 확인을 통한 동작 검증
13. 야만인 사냥 자동화
- 야만인 검색 및 위치 확인
- 지휘관 선택 및 군대 파견
- 전투 결과 처리
- GUI로 전투 과정 모니터링

Phase 5: 컴퓨터 비전 시스템 개발 (Computer Vision System)

14. OCR 시스템 구현
- Tesseract/EasyOCR 설정 및 최적화
- 게임 내 텍스트 인식 정확도 테스트
- 숫자, 시간, 자원량 추출 기능
- GUI에서 OCR 결과 실시간 확인
15. 이미지 인식 및 템플릿 매칭
- OpenCV를 이용한 UI 요소 감지
- 게임 상태별 템플릿 이미지 생성
- 버튼, 아이콘 인식 정확도 향상
- 시각적 디버깅 도구 개발
16. 에러 감지 및 복구 시스템
- 캡차, 네트워크 오류 등 예외상황 감지
- 자동 복구 메커니즘 구현
- GUI를 통한 에러 상황 모니터링

Phase 6: 고급 자동화 및 스케줄링 (Advanced Automation & Scheduling)

17. 멀티 캐릭터 관리 시스템
- 여러 에뮬레이터 동시 실행 및 관리
- 캐릭터별 설정 및 상태 관리
- GUI에서 모든 캐릭터 상태 동시 모니터링
18. 지능형 스케줄링 시스템
- 시간 기반 작업 스케줄링
- 우선순위 및 조건부 실행
- 자원 상태에 따른 동적 작업 조정
- GUI 스케줄 관리 인터페이스
19. 성능 최적화 및 안정성 향상
- 메모리 사용량 최적화
- 에뮬레이터 성능 튜닝
- 장시간 실행 안정성 테스트

Phase 7: 테스팅 및 검증 (Testing & Validation)

20. 단위 테스트 작성
- 각 자동화 기능별 테스트 케이스
- Mock 데이터를 이용한 독립 테스트
- GUI 환경에서 테스트 실행 및 결과 확인
21. 통합 테스트 및 시나리오 테스트
- 전체 워크플로우 테스트
- 다양한 게임 상황에서 동작 검증
- 에러 처리 및 복구 테스트
- 24시간 연속 실행 테스트
22. 사용자 시나리오 테스트
- 실제 게임 환경에서 장기간 테스트
- 다양한 서버, 계정으로 검증
- GUI를 통한 실시간 모니터링 및 문제 해결

Phase 8: GUI 기반 설정 및 모니터링 도구 (GUI Configuration & Monitoring Tools)

23. GUI 설정 관리 도구 개발
- 에뮬레이터 설정 GUI
- 자동화 파라미터 조정 인터페이스
- 스케줄 설정 GUI 도구
24. 실시간 모니터링 대시보드
- 여러 에뮬레이터 상태 동시 표시
- 실시간 로그 및 스크린샷 뷰어
- 성능 메트릭 실시간 차트

Phase 9: Docker 환경 이식 준비 (Docker Migration Preparation)

25. Headless 모드 개발
- GUI 의존성 제거
- 가상 디스플레이 (Xvfb) 설정
- Docker 컨테이너 내 실행을 위한 최적화
26. 설정 파일 기반 운영
- JSON/YAML 설정 파일 시스템
- 환경변수 기반 구성 관리
- Docker 볼륨 매핑 계획

Phase 10: 최종 배포 및 운영 (Final Deployment & Operations)

27. Docker 컨테이너화
- 프로덕션용 Dockerfile 작성
- Docker Compose 설정
- 환경별 배포 스크립트
28. 모니터링 및 로깅 시스템
- 원격 모니터링 도구 구현
- 로그 수집 및 분석 시스템
- 알림 및 보고서 시스템
29. 문서화 및 사용자 가이드
- 설치 및 설정 가이드
- 사용자 매뉴얼 작성
- 트러블슈팅 가이드

이 개발 순서는 XFCE GUI 환경에서 시각적으로 확인하면서 개발을 진행하고, 마지막에
Docker 환경으로 이식하는 접근법입니다. GUI 환경에서의 개발과 테스트가 완료되면
headless Docker 환경으로 원활히 이전할 수 있습니다.
